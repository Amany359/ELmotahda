(self.webpackChunkcheckout_web=self.webpackChunkcheckout_web||[]).push([[3147],{28740:(e,t,n)=>{n(86043),n(95914),function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument(""),n=new WeakMap,o="object"==typeof DOMException?Error:DOMException,r=Object.defineProperty,i=Array.prototype.forEach,a=/@import.+?;?$/gm,s=CSSStyleSheet.prototype;s.replace=function(){return Promise.reject(new o("Can't call replace on non-constructed CSSStyleSheets."))},s.replaceSync=function(){throw new o("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,p=C.prototype;p.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(t){return Promise.reject(t)}},p.replaceSync=function(e){if(T(this),"string"==typeof e){var t=this;c.get(t).textContent=function(e){var t=e.replace(a,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),d.set(t,[]),l.get(t).forEach((function(e){e.isConnected()&&S(t,_(t,e))}))}},r(p,"cssRules",{configurable:!0,enumerable:!0,get:function(){return T(this),c.get(this).sheet.cssRules}}),r(p,"media",{configurable:!0,enumerable:!0,get:function(){return T(this),c.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(e){p[e]=function(){var t=this;T(t);var n=arguments;d.get(t).push({method:e,args:n}),l.get(t).forEach((function(o){if(o.isConnected()){var r=_(t,o).sheet;r[e].apply(r,n)}}));var o=c.get(t).sheet;return o[e].apply(o,n)}})),r(C,Symbol.hasInstance,{configurable:!0,value:k});var f={childList:!0,subtree:!0},h=new WeakMap,m=new WeakMap,g=new WeakMap,w=new WeakMap;if(R.prototype={isConnected:function(){var e=m.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},connect:function(){var e=P(this);w.get(this).observe(e,f),g.get(this).length>0&&L(this),A(e,(function(e){I(e).connect()}))},disconnect:function(){w.get(this).disconnect()},update:function(e){var t=this,n=m.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(k))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(E))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var o,r,i=g.get(t),a=(o=e).filter((function(e,t){return o.indexOf(e)===t}));(r=a,i.filter((function(e){return-1===r.indexOf(e)}))).forEach((function(e){var n;(n=_(e,t)).parentNode.removeChild(n),function(e,t){u.get(e).delete(t),l.set(e,l.get(e).filter((function(e){return e!==t})))}(e,t)})),g.set(t,a),t.isConnected()&&a.length>0&&L(t)}},window.CSSStyleSheet=C,M(Document),"ShadowRoot"in window){M(ShadowRoot);var y=Element.prototype,b=y.attachShadow;y.attachShadow=function(e){var t=b.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var v=I(document);v.isConnected()?v.connect():document.addEventListener("DOMContentLoaded",v.connect.bind(v))}function x(e){return e.shadowRoot||n.get(e)}function k(e){return"object"==typeof e&&(p.isPrototypeOf(e)||s.isPrototypeOf(e))}function E(e){return"object"==typeof e&&s.isPrototypeOf(e)}function _(e,t){return u.get(e).get(t)}function S(e,t){requestAnimationFrame((function(){t.textContent=c.get(e).textContent,d.get(e).forEach((function(e){return t.sheet[e.method].apply(t.sheet,e.args)}))}))}function T(e){if(!c.has(e))throw new TypeError("Illegal invocation")}function C(){var e=this,n=document.createElement("style");t.body.appendChild(n),c.set(e,n),l.set(e,[]),u.set(e,new WeakMap),d.set(e,[])}function I(e){var t=h.get(e);return t||(t=new R(e),h.set(e,t)),t}function M(e){r(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return I(this).sheets},set:function(e){I(this).update(e)}})}function A(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return x(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),o=void 0;o=n.nextNode();)t(x(o))}function P(e){var t=m.get(e);return t instanceof Document?t.body:t}function L(e){var t=document.createDocumentFragment(),n=g.get(e),o=w.get(e),r=P(e);o.disconnect(),n.forEach((function(n){t.appendChild(_(n,e)||function(e,t){var n=document.createElement("style");return u.get(e).set(t,n),l.get(e).push(t),n}(n,e))})),r.insertBefore(t,null),o.observe(r,f),n.forEach((function(t){S(t,_(t,e))}))}function R(t){var n=this;n.sheets=[],m.set(n,t),g.set(n,[]),w.set(n,new MutationObserver((function(t,o){document?t.forEach((function(t){e||i.call(t.addedNodes,(function(e){e instanceof Element&&A(e,(function(e){I(e).connect()}))})),i.call(t.removedNodes,(function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&g.get(e).some((function(t){return _(t,e)}))}(n,t)&&L(n),e||A(t,(function(e){I(e).disconnect()})))}))})):o.disconnect()})))}}()},63147:(e,t,n)=>{"use strict";n.d(t,{r:()=>Dt});var o=n(20333),r=n(12718),i=n(62),a=n(93008);const s=(0,a.q6)({client:void 0,leaveBreadcrumb:()=>{throw new Error("Invalid attempt to call leaveBreadcrumb outside of context.")},notify:()=>{throw new Error("Invalid attempt to call notify outside of context.")}}),c=()=>{const e=(0,r.NT)(s);if(!e)throw new Error("Invalid attempt to use useBugsnag outside of BugsnagProvider.");return e},l={analyticsData:{},getTrekkieAttributes:async()=>Promise.resolve({}),produceMonorailEvent:()=>{throw new Error("Invalid attempt to call produceMonorailEvent outside of context.")},trackPageImpression:async()=>{throw new Error("Invalid attempt to call trackPageImpression outside of context.")},trackUserAction:()=>{throw new Error("Invalid attempt to call trackUserAction outside of context.")}},u=(0,a.q6)(l),d=()=>(0,r.NT)(u),p={recordCounter:()=>{throw new Error("Invalid attempt to call recordCounter outside of context.")},recordGauge:()=>{throw new Error("Invalid attempt to call recordGauge outside of context.")},recordHistogram:()=>{throw new Error("Invalid attempt to call recordHistogram outside of context.")},client:void 0},f=(0,a.q6)(p),h=()=>(0,r.NT)(f),m="undefined"==typeof window?{addEventListener:()=>{},analytics:{},btoa:()=>"",clearTimeout:()=>{},CSS:{supports:(e,t)=>!1},customElements:{},devicePixelRatio:1,getComputedStyle:e=>({}),innerHeight:0,innerWidth:0,localStorage:{getItem(){throw new Error("localStorage is not available")},setItem(){throw new Error("localStorage is not available")},removeItem(){throw new Error("localStorage is not available")}},sessionStorage:{getItem(){throw new Error("sessionStorage is not available")},setItem(){throw new Error("sessionStorage is not available")},removeItem(){throw new Error("sessionStorage is not available")}},location:{assign:()=>{},hostname:"",href:"",origin:"",pathname:"",search:""},matchMedia:()=>({matches:!1}),open:()=>{},PublicKeyCredential:{isConditionalMediationAvailable:()=>Promise.resolve(!1)},removeEventListener:()=>{},screen:{availWidth:0,height:0,orientation:{type:""},width:0},screenLeft:0,screenTop:0,screenX:0,screenY:0,scrollTo:()=>{},setTimeout:()=>0,Shopify:{},ShopifyAnalytics:{},trekkie:{},visualViewport:{}}:window,g=m.location.origin,w="https://shop.app",y="https://pay.shopify.com",b="undefined"==typeof document?{body:{},cookie:"",createElement:()=>{},createTextNode:()=>{},documentElement:{clientHeight:0,clientWidth:0,lang:"",style:{overflow:"",removeProperty:()=>{}}},getElementById:()=>null,head:{appendChild:()=>{}},location:void 0,querySelector:()=>{},querySelectorAll:()=>[]}:document,v=(0,a.q6)({devMode:!1,element:null,instanceId:""}),x=()=>(0,r.NT)(v);function k(){const{notify:e}=c(),{element:t}=x();return(0,r.hb)(((n,o,r=!1)=>{t?t.dispatchEvent(new CustomEvent(n,{bubbles:r,cancelable:!1,composed:!0,detail:o})):e(new Error("dispatchEvent called without a reference to the custom element."))}),[t,e])}var E=n(40904);class _ extends Error{constructor(e,t,n=(0,E.A)()){super(e),this.name=t,this.analyticsTraceId=n;const o=t.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)).replace(/^_/,"");this.analyticsTraceId=n,this.code=o,this.name=t}}function S(e){return!("string"!=typeof e||!e)&&RegExp(/^[^@]+@[^@]+\.[^@]{2,}$/i).test(e)}n(86043);const T=Math.min,C=Math.max,I=Math.round,M=Math.floor,A=e=>({x:e,y:e}),P={left:"right",right:"left",bottom:"top",top:"bottom"},L={start:"end",end:"start"};function R(e,t,n){return C(e,T(t,n))}function D(e,t){return"function"==typeof e?e(t):e}function j(e){return e.split("-")[0]}function O(e){return e.split("-")[1]}function z(e){return"x"===e?"y":"x"}function N(e){return"y"===e?"height":"width"}function V(e){return["top","bottom"].includes(j(e))?"y":"x"}function F(e){return z(V(e))}function Y(e){return e.replace(/start|end/g,(e=>L[e]))}function J(e){return e.replace(/left|right|bottom|top/g,(e=>P[e]))}function U(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function W(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function q(e,t,n){let{reference:o,floating:r}=e;const i=V(t),a=F(t),s=N(a),c=j(t),l="y"===i,u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,p=o[s]/2-r[s]/2;let f;switch(c){case"top":f={x:u,y:o.y-r.height};break;case"bottom":f={x:u,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-r.width,y:d};break;default:f={x:o.x,y:o.y}}switch(O(t)){case"start":f[a]-=p*(n&&l?-1:1);break;case"end":f[a]+=p*(n&&l?-1:1)}return f}async function B(e,t){var n;void 0===t&&(t={});const{x:o,y:r,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=D(t,e),h=U(f),m=s[p?"floating"===d?"reference":"floating":d],g=W(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),w="floating"===d?{x:o,y:r,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},v=W(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:c}):w);return{top:(g.top-v.top+h.top)/b.y,bottom:(v.bottom-g.bottom+h.bottom)/b.y,left:(g.left-v.left+h.left)/b.x,right:(v.right-g.right+h.right)/b.x}}function K(e){return X(e)?(e.nodeName||"").toLowerCase():"#document"}function $(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function H(e){var t;return null==(t=(X(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function X(e){return e instanceof Node||e instanceof $(e).Node}function Z(e){return e instanceof Element||e instanceof $(e).Element}function G(e){return e instanceof HTMLElement||e instanceof $(e).HTMLElement}function Q(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof $(e).ShadowRoot)}function ee(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function te(e){return["table","td","th"].includes(K(e))}function ne(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function oe(e){const t=re(),n=ae(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function re(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ie(e){return["html","body","#document"].includes(K(e))}function ae(e){return $(e).getComputedStyle(e)}function se(e){return Z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ce(e){if("html"===K(e))return e;const t=e.assignedSlot||e.parentNode||Q(e)&&e.host||H(e);return Q(t)?t.host:t}function le(e){const t=ce(e);return ie(t)?e.ownerDocument?e.ownerDocument.body:e.body:G(t)&&ee(t)?t:le(t)}function ue(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=le(e),i=r===(null==(o=e.ownerDocument)?void 0:o.body),a=$(r);return i?t.concat(a,a.visualViewport||[],ee(r)?r:[],a.frameElement&&n?ue(a.frameElement):[]):t.concat(r,ue(r,[],n))}function de(e){const t=ae(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=G(e),i=r?e.offsetWidth:n,a=r?e.offsetHeight:o,s=I(n)!==i||I(o)!==a;return s&&(n=i,o=a),{width:n,height:o,$:s}}function pe(e){return Z(e)?e:e.contextElement}function fe(e){const t=pe(e);if(!G(t))return A(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=de(t);let a=(i?I(n.width):n.width)/o,s=(i?I(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const he=A(0);function me(e){const t=$(e);return re()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:he}function ge(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),i=pe(e);let a=A(1);t&&(o?Z(o)&&(a=fe(o)):a=fe(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==$(e))&&t}(i,n,o)?me(i):A(0);let c=(r.left+s.x)/a.x,l=(r.top+s.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(i){const e=$(i),t=o&&Z(o)?$(o):o;let n=e,r=n.frameElement;for(;r&&o&&t!==n;){const e=fe(r),t=r.getBoundingClientRect(),o=ae(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=i,l+=a,n=$(r),r=n.frameElement}}return W({width:u,height:d,x:c,y:l})}function we(e){return ge(H(e)).left+se(e).scrollLeft}function ye(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=$(e),o=H(e),r=n.visualViewport;let i=o.clientWidth,a=o.clientHeight,s=0,c=0;if(r){i=r.width,a=r.height;const e=re();(!e||e&&"fixed"===t)&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:s,y:c}}(e,n);else if("document"===t)o=function(e){const t=H(e),n=se(e),o=e.ownerDocument.body,r=C(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=C(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+we(e);const s=-n.scrollTop;return"rtl"===ae(o).direction&&(a+=C(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:a,y:s}}(H(e));else if(Z(t))o=function(e,t){const n=ge(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=G(e)?fe(e):A(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:o*i.y}}(t,n);else{const n=me(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return W(o)}function be(e,t){const n=ce(e);return!(n===t||!Z(n)||ie(n))&&("fixed"===ae(n).position||be(n,t))}function ve(e,t,n){const o=G(t),r=H(t),i="fixed"===n,a=ge(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const c=A(0);if(o||!o&&!i)if(("body"!==K(t)||ee(r))&&(s=se(t)),o){const e=ge(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else r&&(c.x=we(r));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function xe(e){return"static"===ae(e).position}function ke(e,t){return G(e)&&"fixed"!==ae(e).position?t?t(e):e.offsetParent:null}function Ee(e,t){const n=$(e);if(ne(e))return n;if(!G(e)){let t=ce(e);for(;t&&!ie(t);){if(Z(t)&&!xe(t))return t;t=ce(t)}return n}let o=ke(e,t);for(;o&&te(o)&&xe(o);)o=ke(o,t);return o&&ie(o)&&xe(o)&&!oe(o)?n:o||function(e){let t=ce(e);for(;G(t)&&!ie(t);){if(ne(t))return null;if(oe(t))return t;t=ce(t)}return null}(e)||n}const _e={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i="fixed"===r,a=H(o),s=!!t&&ne(t.floating);if(o===a||s&&i)return n;let c={scrollLeft:0,scrollTop:0},l=A(1);const u=A(0),d=G(o);if((d||!d&&!i)&&(("body"!==K(o)||ee(a))&&(c=se(o)),G(o))){const e=ge(o);l=fe(o),u.x=e.x+o.clientLeft,u.y=e.y+o.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}},getDocumentElement:H,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[..."clippingAncestors"===n?ne(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=ue(e,[],!1).filter((e=>Z(e)&&"body"!==K(e))),r=null;const i="fixed"===ae(e).position;let a=i?ce(e):e;for(;Z(a)&&!ie(a);){const t=ae(a),n=oe(a);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||ee(a)&&!n&&be(e,a))?o=o.filter((e=>e!==a)):r=t,a=ce(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=i[0],s=i.reduce(((e,n)=>{const o=ye(t,n,r);return e.top=C(o.top,e.top),e.right=T(o.right,e.right),e.bottom=T(o.bottom,e.bottom),e.left=C(o.left,e.left),e}),ye(t,a,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Ee,getElementRects:async function(e){const t=this.getOffsetParent||Ee,n=this.getDimensions,o=await n(e.floating);return{reference:ve(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=de(e);return{width:t,height:n}},getScale:fe,isElement:Z,isRTL:function(e){return"rtl"===ae(e).direction}};function Se(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:c=!1}=o,l=pe(e),u=r||i?[...l?ue(l):[],...ue(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=l&&s?function(e,t){let n,o=null;const r=H(e);function i(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),i();const{left:l,top:u,width:d,height:p}=e.getBoundingClientRect();if(s||t(),!d||!p)return;const f={rootMargin:-M(u)+"px "+-M(r.clientWidth-(l+d))+"px "+-M(r.clientHeight-(u+p))+"px "+-M(l)+"px",threshold:C(0,T(1,c))||1};let h=!0;function m(e){const t=e[0].intersectionRatio;if(t!==c){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}h=!1}try{o=new IntersectionObserver(m,{...f,root:r.ownerDocument})}catch(g){o=new IntersectionObserver(m,f)}o.observe(e)}(!0),i}(l,n):null;let p,f=-1,h=null;a&&(h=new ResizeObserver((e=>{let[o]=e;o&&o.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),l&&!c&&h.observe(l),h.observe(t));let m=c?ge(e):null;return c&&function t(){const o=ge(e);!m||o.x===m.x&&o.y===m.y&&o.width===m.width&&o.height===m.height||n(),m=o,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const Te=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:a,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:o,elements:r}=e,i=await(null==o.isRTL?void 0:o.isRTL(r.floating)),a=j(n),s=O(n),c="y"===V(n),l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,d=D(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),c?{x:f*u,y:p*l}:{x:p*l,y:f*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(o=s.arrow)&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},Ce=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=D(e,t),l={x:n,y:o},u=await B(t,c),d=V(j(r)),p=z(d);let f=l[p],h=l[d];if(i){const e="y"===p?"bottom":"right";f=R(f+u["y"===p?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";h=R(h+u["y"===d?"top":"left"],h,h-u[e])}const m=s.fn({...t,[p]:f,[d]:h});return{...m,data:{x:m.x-n,y:m.y-o}}}}},Ie=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=D(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const w=j(r),y=V(s),b=j(s)===s,v=await(null==c.isRTL?void 0:c.isRTL(l.floating)),x=p||(b||!m?[J(s)]:function(e){const t=J(e);return[Y(e),t,Y(t)]}(s)),k="none"!==h;!p&&k&&x.push(...function(e,t,n,o){const r=O(e);let i=function(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:a;default:return[]}}(j(e),"start"===n,o);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(Y)))),i}(s,m,h,v));const E=[s,...x],_=await B(t,g),S=[];let T=(null==(o=i.flip)?void 0:o.overflows)||[];if(u&&S.push(_[w]),d){const e=function(e,t,n){void 0===n&&(n=!1);const o=O(e),r=F(e),i=N(r);let a="x"===r?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=J(a)),[a,J(a)]}(r,a,v);S.push(_[e[0]],_[e[1]])}if(T=[...T,{placement:r,overflows:S}],!S.every((e=>e<=0))){var C,I;const e=((null==(C=i.flip)?void 0:C.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let n=null==(I=T.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:I.placement;if(!n)switch(f){case"bestFit":{var M;const e=null==(M=T.filter((e=>{if(k){const t=V(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}},Me=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:a,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=D(e,t)||{};if(null==l)return{};const d=U(u),p={x:n,y:o},f=F(r),h=N(f),m=await a.getDimensions(l),g="y"===f,w=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",v=i.reference[h]+i.reference[f]-p[f]-i.floating[h],x=p[f]-i.reference[f],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let E=k?k[b]:0;E&&await(null==a.isElement?void 0:a.isElement(k))||(E=s.floating[b]||i.floating[h]);const _=v/2-x/2,S=E/2-m[h]/2-1,C=T(d[w],S),I=T(d[y],S),M=C,A=E-m[h]-I,P=E/2-m[h]/2+_,L=R(M,P,A),j=!c.arrow&&null!=O(r)&&P!==L&&i.reference[h]/2-(P<M?C:I)-m[h]/2<0,z=j?P<M?P-M:P-A:0;return{[f]:p[f]+z,data:{[f]:L,centerOffset:P-L-z,...j&&{alignmentOffset:z}},reset:j}}}),Ae=(e,t,n)=>{const o=new Map,r={platform:_e,...n},i={...r.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=q(l,o,c),p=o,f={},h=0;for(let m=0;m<s.length;m++){const{name:n,fn:i}=s[m],{x:g,y:w,data:y,reset:b}=await i({x:u,y:d,initialPlacement:o,placement:p,strategy:r,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=w?w:d,f={...f,[n]:{...f[n],...y}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:u,y:d}=q(l,p,c))),m=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:f}})(e,t,{...r,platform:i})};var Pe=n(92972),Le=n.n(Pe);function Re({className:e}){const t=Le()("text-inherit",e);return(0,o.Y)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 60 25",children:(0,o.Y)("path",{fill:"currentColor",d:"M7.74 11.067c-2.35-.509-3.396-.708-3.396-1.612 0-.85.708-1.274 2.125-1.274 1.246 0 2.157.544 2.828 1.609.05.082.155.11.24.066l2.644-1.334a.186.186 0 0 0 .076-.259c-1.098-1.9-3.125-2.94-5.794-2.94-3.507 0-5.686 1.727-5.686 4.47 0 2.914 2.653 3.65 5.006 4.16 2.353.509 3.403.708 3.403 1.612 0 .904-.765 1.33-2.293 1.33-1.41 0-2.457-.644-3.09-1.896a.185.185 0 0 0-.25-.082L.916 16.222a.188.188 0 0 0-.082.253c1.046 2.102 3.194 3.284 6.062 3.284 3.653 0 5.86-1.697 5.86-4.526 0-2.83-2.666-3.65-5.015-4.16v-.006ZM21.909 5.324c-1.5 0-2.824.53-3.776 1.476a.093.093 0 0 1-.158-.067V.7a.185.185 0 0 0-.187-.186H14.48a.185.185 0 0 0-.187.186v18.728c0 .105.083.187.187.187h3.308a.185.185 0 0 0 .187-.187v-8.215c0-1.586 1.217-2.803 2.859-2.803 1.641 0 2.83 1.191 2.83 2.803v8.215c0 .105.082.187.187.187h3.308a.185.185 0 0 0 .186-.187v-8.215c0-3.451-2.264-5.888-5.436-5.888ZM34.056 4.786c-1.796 0-3.478.55-4.687 1.344a.187.187 0 0 0-.06.25l1.458 2.487c.054.089.168.12.256.066a5.812 5.812 0 0 1 3.04-.834c2.887 0 5.01 2.035 5.01 4.725 0 2.292-1.7 3.99-3.853 3.99-1.755 0-2.973-1.022-2.973-2.463 0-.825.351-1.501 1.265-1.979a.183.183 0 0 0 .073-.259L32.21 9.787a.186.186 0 0 0-.224-.08c-1.844.683-3.137 2.327-3.137 4.533 0 3.338 2.66 5.829 6.369 5.829 4.333 0 7.448-3 7.448-7.302 0-4.611-3.624-7.98-8.609-7.98ZM52.342 5.295c-1.673 0-3.169.62-4.26 1.707a.092.092 0 0 1-.158-.066V5.627a.185.185 0 0 0-.186-.186h-3.223a.185.185 0 0 0-.187.186v18.7c0 .104.082.186.187.186h3.308a.185.185 0 0 0 .187-.187v-6.131c0-.083.098-.124.158-.07 1.088 1.012 2.527 1.602 4.174 1.602 3.88 0 6.907-3.138 6.907-7.216 0-4.077-3.03-7.216-6.907-7.216Zm-.626 11.265c-2.207 0-3.88-1.754-3.88-4.074s1.67-4.074 3.88-4.074 3.877 1.726 3.877 4.074c0 2.349-1.644 4.074-3.88 4.074h.003Z"})})}const De=["en","bg-BG","cs","da","de","el","es","fi","fr","hi","hr-HR","hu","id","it","ja","ko","lt-LT","ms","nb","nl","pl","pt-BR","pt-PT","ro-RO","ru","sk-SK","sl-SI","sv","th","tr","vi","zh-CN","zh-TW"],je=(0,a.q6)({locale:"en",translations:void 0}),Oe=()=>(0,r.NT)(je);function ze(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let n,o;const r=Object.keys(e);if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!=o--;)if(!ze(e[o],t[o]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!=o--;){const n=r[o];if(!ze(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Ne(e){return(e.ownerDocument.defaultView||m).devicePixelRatio||1}function Ve(e,t){const n=Ne(e);return Math.round(t*n)/n}function Fe(e){const t=(0,r.li)(e);return(0,r.vJ)((()=>{t.current=e})),t}const Ye={mobile:["max-width: 448px"],tablet:["min-width: 449px","max-width: 1000px","max-height: 920px"]};function Je({className:e}){const t=Le()("text-inherit",e);return(0,o.Y)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,o.Y)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10Zm7.707-3.707a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 0 0 1.414-1.414L11.414 10l2.293-2.293a1 1 0 0 0-1.414-1.414L10 8.586 7.707 6.293Z","clip-rule":"evenodd"})})}n(28740);var Ue=n(80646);const We="undefined"==typeof navigator?{languages:[],userAgent:"",userLanguage:""}:navigator;class qe{constructor(e){const t=(n={beta:!0,feature:e},{apiKey:"e35d7136cee78d344ccffdbd5ca710fa",appId:"shop-js",appVersion:"1.0.30-1305-beta",metadata:{bundleLocale:"",...n},onError:e=>{const t=`${e.exceptions[0].errorClass}:${e.exceptions[0].message}`,n=m.Shopify?.featureAssets?.["shop-js"],o=Boolean(n&&Object.keys(n).length>0),r=Array.from(b.querySelectorAll('script[src*="/shop-js/"]')).map((e=>e.src));e.device={locale:We.userLanguage||We.language,userAgent:We.userAgent,orientation:m.screen?.orientation?.type,time:(new Date).toISOString()},e.groupingHash=t,e.metaData={...e.metaData,compactUX:!0,domain:m?.location?.hostname,shopJsUrls:r,shopJsFeatureAssetsExist:o},e.request={url:m.location.href}},releaseStage:"production"});var n,o;this.client=new Ue.qM(t),this.leaveBreadcrumb=this.leaveBreadcrumb.bind(this),this.notify=this.notify.bind(this),o=this.client,m.addEventListener("error",(e=>{const{error:t}=e;t&&function(e){const t=(0,Ue.i5)(e);return 0!==t.length&&t.some((e=>e.file?.includes("shopifycloud/shop-js")))}(t)&&o.notify(t)}))}leaveBreadcrumb(e,t,n){this.client?this.client.leaveBreadcrumb(e,t,n):console.log("Bugsnag.leaveBreadcrumb() called before client creation.")}notify(e,t){this.client?this.client.notify(e,t):console.warn("Bugsnag.notify() called before client creation.")}}const Be=({children:e})=>{const{featureName:t}=x(),n=(0,r.Kr)((()=>{t||["development","spin"].includes("production")&&console.warn("BugsnagProvider created without a feature name.");const{client:e,leaveBreadcrumb:n,notify:o}=new qe(t);return{client:e,leaveBreadcrumb:n,notify:o}}),[t]);return(0,o.Y)(s.Provider,{value:n,children:e})};function Ke(e){return De.includes(e)}const $e=[],He=[],Xe=new Map,Ze=function(e,t){let n;return function(...t){clearTimeout(n),n=setTimeout((()=>e.apply(this,t)),250)}}((function(e){let t={};const n=Xe.get(e);He.forEach((e=>{t={...t,...e}})),Xe.set(e,{...n,...t}),$e.forEach((e=>e())),$e.splice(0,$e.length),He.splice(0,He.length)}));function Ge({children:e,getFeatureDictionary:t}){const{notify:i}=c(),[a,s]=(0,r.J0)("en"),{featureName:l}=x(),[u,d]=(0,r.J0)(Xe.size<1),p=(0,r.hb)((()=>{try{const e=b.documentElement.lang||m.Shopify?.locale;if(Ke(e))return e;const t=new Intl.Locale(e);if(t.language&&Ke(t.language))return t.language;console.error(`Unsupported locale: "${e}"`);for(const n of We.languages){if(Ke(n))return n;const e=new Intl.Locale(n);if(e.language&&Ke(e.language))return e.language}}catch(e){e instanceof Error&&i(e)}return"en"}),[i]),f=(0,r.hb)((async()=>{if(Ke(a)){if(!Xe.has(a)){d(!0);try{const e=await function(e){switch(e){case"./translations/bg-BG.json":return n.e(3189).then(n.bind(n,43189));case"./translations/cs.json":return n.e(106).then(n.bind(n,30106));case"./translations/da.json":return n.e(5973).then(n.bind(n,75973));case"./translations/de.json":return n.e(6609).then(n.bind(n,56609));case"./translations/el.json":return n.e(2279).then(n.bind(n,52279));case"./translations/en.json":return n.e(6221).then(n.bind(n,86221));case"./translations/es.json":return n.e(5920).then(n.bind(n,95920));case"./translations/fi.json":return n.e(5375).then(n.bind(n,85375));case"./translations/fr.json":return n.e(8380).then(n.bind(n,95999));case"./translations/hi.json":return n.e(9961).then(n.bind(n,29961));case"./translations/hr-HR.json":return n.e(3863).then(n.bind(n,73863));case"./translations/hu.json":return n.e(9429).then(n.bind(n,99429));case"./translations/id.json":return n.e(4883).then(n.bind(n,44883));case"./translations/it.json":return n.e(51).then(n.bind(n,10051));case"./translations/ja.json":return n.e(4307).then(n.bind(n,14307));case"./translations/ko.json":return n.e(8366).then(n.bind(n,78366));case"./translations/lt-LT.json":return n.e(9543).then(n.bind(n,69543));case"./translations/ms.json":return n.e(3624).then(n.bind(n,53624));case"./translations/nb.json":return n.e(420).then(n.bind(n,60420));case"./translations/nl.json":return n.e(6866).then(n.bind(n,26866));case"./translations/pl.json":return n.e(8868).then(n.bind(n,78868));case"./translations/pt-BR.json":return n.e(3407).then(n.bind(n,3407));case"./translations/pt-PT.json":return n.e(7575).then(n.bind(n,47575));case"./translations/ro-RO.json":return n.e(7189).then(n.bind(n,67189));case"./translations/ru.json":return n.e(7836).then(n.bind(n,35455));case"./translations/sk-SK.json":return n.e(663).then(n.bind(n,40663));case"./translations/sl-SI.json":return n.e(7584).then(n.bind(n,27584));case"./translations/sv.json":return n.e(1583).then(n.bind(n,81583));case"./translations/th.json":return n.e(3804).then(n.bind(n,21423));case"./translations/tr.json":return n.e(6318).then(n.bind(n,66318));case"./translations/vi.json":return n.e(693).then(n.bind(n,45455));case"./translations/zh-CN.json":return n.e(6154).then(n.bind(n,96154));case"./translations/zh-TW.json":return n.e(3350).then(n.bind(n,83350));default:return new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./translations/${a}.json`);Xe.set(a,e)}catch(e){i(new Error(`Failed to fetch translations for locale ${a}: ${e}`))}}if(l&&t){d(!0);const e=t?await t(a):{};He.push(e)}$e.push((()=>d(!1))),Ze(a)}}),[l,t,a,i]);(0,r.vJ)((()=>{const e=p();s(e)}),[p]),(0,r.vJ)((()=>{try{f()}catch(e){e instanceof Error&&i(e)}}),[f,a,i]);const h=(0,r.Kr)((()=>({locale:a,translations:Xe})),[a]);return(0,o.Y)(je.Provider,{value:h,children:!u&&e})}function Qe(e,t=200){const n=(0,r.li)(),o=(0,r.li)(e);return o.current=e,(0,r.hb)(((...e)=>{null!=n.current&&clearTimeout(n.current),n.current=setTimeout(((...e)=>o.current?.(...e)),t,...e)}),[t])}var et=n(7501),tt=n(28033),nt=n(22202),ot=n(46684),rt=n(89056),it=(0,tt.A)("exporter");class at{constructor(e){Object.defineProperty(this,it,{writable:!0,value:void 0}),(0,et.A)(this,it)[it]=e}async exportMetrics(e){try{await(0,et.A)(this,it)[it].exportMetrics(e)}catch(t){if(t instanceof rt.x){const n=t.metadata?.retryAfter;if(n)return void await new Promise((t=>{setTimeout((()=>this.exportMetrics(e).finally(t)),1e3*n.seconds)}))}throw t}}}const st={blockedRequest:"Blocked Request",emptyeEventCreatedAtMs:"event_created_at_ms metadata field cannot be empty",errorParsingCreatedAtMs:"Error parsing: X-Monorail-Edge-Event-Created-At-Ms",failedToReadRequestBody:"Failed to read request body",incorrectContentType:"Incorrect Content-Type. Expected: application/json or text/plain",methodNotAllowed:"Method Not Allowed",noPermissionToGetURL:"Your client does not have permission to get URL",noResponseFromEdge:"No response from edge",schemaValidationError:"Schema validation error"},ct="https://otlp-http-production.shopifysvc.com/v1/metrics";function lt(){{const e=new rt.B(ct,"shop-js");return new at(e)}}function ut(){const e=b.querySelector("script#shop-js-analytics")?.innerHTML;return e?JSON.parse(e):{}}async function dt(){let e;return Promise.race([new Promise((t=>e=setTimeout((()=>t({})),1e4))),new Promise((e=>{const t=m.ShopifyAnalytics?.lib?.ready||m.analytics?.ready;t?.((()=>{const t=m.ShopifyAnalytics?.lib?.trekkie||m.analytics?.trekkie;e(t.defaultAttributes)}))}))]).finally((()=>clearTimeout(e)))}async function pt(...e){if(!m.ShopifyAnalytics&&!m.analytics)return{};let t;Boolean(m.trekkie?.ready)?t=dt():(m.trekkie=m.trekkie||[],t=new Promise((e=>{m.trekkie.push(["ready",()=>{e(dt())}])})));const n=await t;return e.reduce(((e,t)=>{const o=n[t];return void 0!==o&&(e[t]=o),e}),{})}const ft="unspecified",ht=nt.s.createHttpProducer({production:!0});var mt=(0,tt.A)("analyticsData");class gt{constructor({analyticsData:e,devMode:t=!1,notify:n,recordCounter:o}){Object.defineProperty(this,mt,{writable:!0,value:void 0}),this.trackedPageImpressions=new Set,(0,et.A)(this,mt)[mt]={...e,flowVersion:e.flowVersion??ft},this.devMode=t,this.notify=n,this.recordCounter=o,this.clearTrackedPageImpressions=this.clearTrackedPageImpressions.bind(this),this.produceMonorailEvent=this.produceMonorailEvent.bind(this),this.trackFeatureInitialization=this.trackFeatureInitialization.bind(this),this.trackPageImpression=this.trackPageImpression.bind(this),this.trackUserAction=this.trackUserAction.bind(this)}get analyticsData(){return(0,et.A)(this,mt)[mt]}set analyticsData(e){const t={...(0,et.A)(this,mt)[mt],...e};ze(t,(0,et.A)(this,mt)[mt])||((0,et.A)(this,mt)[mt]=t)}clearTrackedPageImpressions(){this.trackedPageImpressions.clear()}produceMonorailEvent({event:e,onError:t,trekkieAttributes:n}){this.devMode||(!n||Object.keys(n).length?(e.payload=Object.assign(e.payload,n),ht.produce(e).catch((e=>{if(t?.(e),(e=>!(e instanceof ot.pJ||e?.message?.includes("Invalid agent:")))(e)){const t=e instanceof Error?e:new _(String(e),"MonorailProducerError");if(this.notify?.(t),this.recordCounter){const e=function(e){const t=Object.values(st).find((([t,n])=>e.message.includes(n)));return t?.[0]||"otherErrors"}(t);this.recordCounter("shop_js_monorail_producer_error",{attributes:{error:e}})}}}))):t?.({message:"trekkie attributes are empty"}))}async trackFeatureInitialization(){const{analyticsTraceId:e,apiKey:t,checkoutToken:n,flow:o,flowVersion:r=ft,shopId:i,source:a="unspecified"}=this.analyticsData;if(!e||!o)return;const s=ut(),c=s?.pageType??"",l={...t&&{apiKey:t},...n&&{checkoutToken:n},...i&&{shopId:i},...await pt("customerId","isPersistentCookie","path","uniqToken","visitToken"),analyticsTraceId:e,flow:o,flowVersion:r,sdkVersion:"1.0.30-1305-beta",shopPermanentDomain:m.Shopify?.shop??"",source:a,storefrontPageType:c};this.produceMonorailEvent({event:{schemaId:"shopify_pay_login_with_shop_sdk_feature_initialize/1.0",payload:l}})}async trackPageImpression({page:e,shopAccountUuid:t,allowDuplicates:n=!1}){if(!n&&this.trackedPageImpressions.has(e))return;const{analyticsTraceId:o,apiKey:r,checkoutToken:i,flow:a,flowVersion:s=ft}=this.analyticsData;if(!o||!a)return;this.trackedPageImpressions.add(e);const c=ut(),l=c?.pageType??"",u=await pt("customerId","isPersistentCookie","path","uniqToken","visitToken"),d={...r&&{apiKey:r},...i&&{checkoutToken:i},...t&&{shopAccountUuid:t},...u,analyticsTraceId:o,flow:a,flowVersion:s,pageName:e,sdkVersion:"1.0.30-1305-beta",shopPermanentDomain:m.Shopify?.shop??"",storefrontPageType:l};this.produceMonorailEvent({event:{payload:d,schemaId:"shopify_pay_login_with_shop_sdk_page_impressions/3.3"},onError:()=>{this.trackedPageImpressions.delete(e)},trekkieAttributes:u})}trackUserAction({userAction:e}){const{analyticsTraceId:t,apiKey:n,checkoutToken:o,checkoutVersion:r,flow:i,flowVersion:a=ft,shopId:s}=this.analyticsData;if(!t||!i)return;const c={...n&&{apiKey:n},...o&&{checkoutToken:o},...r&&{checkoutVersion:r},...s&&{shopId:s},analyticsTraceId:t,flow:i,flowVersion:a,sdkVersion:"1.0.30-1305-beta",shopPermanentDomain:m.Shopify?.shop??"",userAction:e};this.produceMonorailEvent({event:{schemaId:"shopify_pay_login_with_shop_sdk_user_actions/2.2",payload:c}})}}const wt=({analyticsContext:e="loginWithShop",analyticsTraceId:t,apiKey:n,checkoutVersion:i,checkoutToken:a,children:s,flow:l,flowVersion:d,shopId:p=0,shopPermanentDomain:f,source:m})=>{const{notify:g}=c(),{recordCounter:w}=h(),{devMode:y,instanceId:b}=x(),v=(0,r.li)({analyticsContext:e,analyticsTraceId:t||b,apiKey:n,checkoutVersion:i,checkoutToken:a,flow:l,flowVersion:d,shopId:p,shopPermanentDomain:f,source:m}),k=(0,r.Kr)((()=>new gt({analyticsData:v.current,devMode:y,notify:g,recordCounter:w})),[y,g,w]);k.analyticsData={...v.current,analyticsTraceId:t||b,analyticsContext:e,apiKey:n,checkoutVersion:i,checkoutToken:a,flow:l,flowVersion:d,shopId:p,shopPermanentDomain:f,source:m},(0,r.vJ)((()=>()=>{k.clearTrackedPageImpressions()}),[k]);const E=Qe((()=>k.trackFeatureInitialization()),500);(0,r.vJ)((()=>{E()}),[E]);const _=(0,r.Kr)((()=>({analyticsData:k.analyticsData,getTrekkieAttributes:pt,produceMonorailEvent:k.produceMonorailEvent,trackPageImpression:k.trackPageImpression,trackUserAction:k.trackUserAction})),[k.analyticsData,k.produceMonorailEvent,k.trackPageImpression,k.trackUserAction]);return(0,o.Y)(u.Provider,{value:_,children:s})};var yt=n(2323);class bt extends yt.LU{counter(e){super.counter(e),this.exportMetrics()}histogram(e){super.histogram(e),this.exportMetrics()}gauge(e){super.gauge(e),this.exportMetrics()}}function vt({children:e}){const{featureName:t}=x(),n=(0,r.Kr)((()=>new bt({exporter:lt()})),[]),i=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1}=o;n.counter({attributes:{beta:!0,feature:t,...r},name:e,value:a,unit:i})}),[n,t]),a=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1}=o;n.gauge({attributes:{beta:!0,feature:t,...r},name:e,value:a,unit:i})}),[n,t]),s=(0,r.hb)(((e,o={})=>{const{attributes:r,unit:i,value:a=1,bounds:s}=o;n.histogram({attributes:{beta:!0,feature:t,...r},bounds:s,name:e,value:a,unit:i})}),[n,t]),c=(0,r.Kr)((()=>({client:n,recordCounter:i,recordGauge:a,recordHistogram:s})),[n,i,a,s]);return(0,o.Y)(f.Provider,{value:c,children:e})}const xt=({children:e,devMode:t=!1,element:n,featureName:i,getFeatureDictionary:s,monorailEnabled:c=!0,monorailProps:l})=>{(0,r.vJ)((()=>{if(b.querySelector('style[data-description="shop-js-font-faces"]'))return;const e=b.createElement("style");e.dataset.description="shop-js-font-faces",e.appendChild(b.createTextNode("\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-Book.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 450;\n  font-display: fallback;\n}\n\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-Medium.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 500;\n  font-display: fallback;\n}\n\n@font-face {\n  font-family: 'SuisseIntl';\n  src: url('https://cdn.shopify.com/shop-assets/static_uploads/shoplift/SuisseIntl-SemiBold.otf')\n    format('opentype');\n  font-style: normal;\n  font-weight: 600;\n  font-display: fallback;\n}")),b.head.appendChild(e)}),[]);const u=c?wt:a.FK,d=(0,r.Kr)((()=>c&&l?.analyticsTraceId?l.analyticsTraceId:(0,E.A)()),[c,l?.analyticsTraceId]);(0,r.vJ)((()=>{n&&n.setAttribute("data-instance-id",d)}),[n,d]);const p=(0,r.Kr)((()=>({devMode:t,element:n,featureName:i,instanceId:d})),[t,n,i,d]);return(0,o.Y)(v.Provider,{value:p,children:(0,o.Y)(Be,{children:(0,o.Y)(vt,{children:(0,o.Y)(u,{...l,children:(0,o.Y)(Ge,{getFeatureDictionary:s,children:e})})})})})};var kt='/*! tailwindcss v3.4.4 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:SuisseIntl;font-variation-settings:normal;line-height:1.5;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}:host{font-family:SuisseIntl}*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.container{width:100%}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.sr-only{clip:rect(0,0,0,0);border-width:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.pointer-events-none{pointer-events:none}.\\!visible{visibility:visible!important}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-05{inset:2px}.bottom-0{bottom:0}.bottom-8{bottom:32px}.bottom-\\[15\\%\\]{bottom:15%}.left-0{left:0}.right-0{right:0}.top-0{top:0}.-z-10{z-index:-10}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\\[2147483647\\],.z-max{z-index:2147483647}.-m-px{margin:-1px}.m-0{margin:0}.m-\\[1em\\]{margin:1em}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:8px}.ml-1{margin-left:4px}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.size-5{height:20px;width:20px}.size-6{height:24px;width:24px}.h-4{height:16px}.h-4-5{height:18px}.h-5{height:20px}.h-6{height:24px}.h-9{height:36px}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.w-22{width:88px}.w-37{width:148px}.w-55{width:220px}.w-6{width:24px}.w-9{width:36px}.w-auto{width:auto}.w-full{width:100%}.w-full-important{width:100%!important}.w-pay-button{width:var(--shop-pay-button-width,260px)}.w-px{width:1px}.min-w-85{min-width:340px}.max-w-94{max-width:376px}.flex-shrink-0{flex-shrink:0}.translate-y-16{--tw-translate-y:64px}.rotate-45,.translate-y-16{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate:45deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}@keyframes follow{0%{transform:scaleY(1);width:100%}25%{transform:scaleY(1)}50%{transform:scaleY(1.2)}to{transform:scaleY(1);width:36px}}.animate-follow{animation:follow .3s cubic-bezier(.45,0,.15,1)}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-x-1{column-gap:4px}.gap-x-1-5{column-gap:6px}.gap-x-4{column-gap:16px}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.rounded-lg{border-radius:16px}.rounded-login-button{border-radius:var(--buttons-radius,12px)}.rounded-max{border-radius:999px}.rounded-md{border-radius:12px}.rounded-xs{border-radius:4px}.border{border-width:1px}.border-none{border-style:none}.border-grayscale-l2l{--tw-border-opacity:1;border-color:rgb(227 227 227/var(--tw-border-opacity))}.bg-grayscale-l4{--tw-bg-opacity:1;background-color:rgb(242 244 245/var(--tw-bg-opacity))}.bg-grayscale-primary-light{--tw-bg-opacity:1;background-color:rgb(112 112 112/var(--tw-bg-opacity))}.bg-overlay{background-color:#0006}.bg-purple-primary{--tw-bg-opacity:1;background-color:rgb(84 51 235/var(--tw-bg-opacity))}.bg-transparent{background-color:initial}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-0{padding:0}.p-3{padding:12px}.p-4{padding:16px}.p-6{padding:24px}.px-0{padding-left:0;padding-right:0}.px-11{padding-left:44px;padding-right:44px}.px-2{padding-left:8px;padding-right:8px}.px-4{padding-left:16px;padding-right:16px}.px-6{padding-left:24px;padding-right:24px}.py-2-5{padding-bottom:10px;padding-top:10px}.py-3{padding-bottom:12px;padding-top:12px}.py-4{padding-bottom:16px;padding-top:16px}.pb-0{padding-bottom:0}.pb-2{padding-bottom:8px}.pb-4{padding-bottom:16px}.pr-3{padding-right:12px}.pt-4{padding-top:16px}.text-center{text-align:center}.font-sans{font-family:SuisseIntl}.text-body-small{font-size:14px;font-weight:450;letter-spacing:.15px;line-height:18px}.text-button-large{font-size:16px;font-weight:500;letter-spacing:.15px;line-height:18px}.text-caption{font-size:12px;font-weight:450;letter-spacing:.15px;line-height:14px}.text-subtitle{font-size:18px;font-weight:500;letter-spacing:.15px;line-height:20px}.leading-6{line-height:1.5rem}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-grayscale-d1{--tw-text-opacity:1;color:rgb(64 64 64/var(--tw-text-opacity))}.text-grayscale-l4{--tw-text-opacity:1;color:rgb(242 244 245/var(--tw-text-opacity))}.text-purple-primary{--tw-text-opacity:1;color:rgb(84 51 235/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.no-underline{text-decoration-line:none}.opacity-0{opacity:0}.opacity-100{opacity:1}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.delay-200{transition-delay:.2s}.duration-200{transition-duration:.2s}.ease-cubic-in-out{transition-timing-function:cubic-bezier(.65,0,.35,1)}.ease-cubic-modal{transition-timing-function:cubic-bezier(.32,.72,0,1)}.will-change-transform{will-change:transform}.forced-color-adjust-none{forced-color-adjust:none}.focus_outline-0:focus{outline-width:0}.hover_enabled_bg-purple-d0:enabled:hover{--tw-bg-opacity:1;background-color:rgb(69 36 219/var(--tw-bg-opacity))}.hover_enabled_bg-transparent:enabled:hover{background-color:initial}.focus-visible_enabled_outline-none:enabled:focus-visible{outline:2px solid #0000;outline-offset:2px}.focus-visible_enabled_ring:enabled:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus-visible_enabled_ring-purple-primary-light:enabled:focus-visible{--tw-ring-opacity:1;--tw-ring-color:rgb(219 209 255/var(--tw-ring-opacity))}.disabled_opacity-50:disabled{opacity:.5}.group:hover .group-hover_bg-purple-d0{--tw-bg-opacity:1;background-color:rgb(69 36 219/var(--tw-bg-opacity))}.group:hover .group-hover_text-grayscale-l2l{--tw-text-opacity:1;color:rgb(227 227 227/var(--tw-text-opacity))}.data-\\[visible\\=true\\]_translate-y-0[data-visible=true]{--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[visible\\=true\\]_opacity-100[data-visible=true]{opacity:1}@media (prefers-reduced-motion:reduce){.motion-reduce_translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.motion-reduce_transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.motion-reduce_duration-0{transition-duration:0s}}@media (max-width:448px){.sm_absolute{position:absolute}.sm_bottom-0{bottom:0}.sm_left-0{left:0}.sm_right-0{right:0}.sm_top-auto{top:auto}.sm_hidden{display:none}.sm_max-w-none{max-width:none}.sm_translate-y-0{--tw-translate-y:0px}.sm_translate-y-0,.sm_translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sm_translate-y-full{--tw-translate-y:100%}.sm_scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sm_rounded-none{border-radius:0}.sm_rounded-b-none{border-bottom-left-radius:0;border-bottom-right-radius:0}}';function Et({children:e,instanceId:t,type:n}){const a=(0,r.li)(null),[s,c]=(0,r.J0)(null);return(0,r.Nf)((()=>{c(a.current.attachShadow({mode:"open"}))}),[]),(0,r.Nf)((()=>{if(s){const e=new CSSStyleSheet;e.replace(kt),s.adoptedStyleSheets=[e]}}),[s]),(0,o.Y)("div",{"data-nametag":"shop-portal-provider","data-portal-instance-id":t,"data-type":n,ref:a,style:{all:"initial"},children:s&&(0,i.d5)((0,o.Y)(xt,{monorailEnabled:!1,children:e}),s)})}const _t=({anchorTo:e,children:t,hideHeader:n=!1,disableMinWidth:a=!1,key:s,modalTitle:c="Sign in with Shop",onDismiss:l,onModalInViewport:u,popupDisabled:d,visible:p})=>{const{translate:f}=(()=>{const{locale:e,translations:t}=Oe();return{translate:(n,r)=>{const i=n.split(".");if(!t)throw new ReferenceError;const{count:a,defaultValue:s,...c}=r||{};let l=t.get(e);if(!l&&r?.defaultValue)return r.defaultValue;try{for(const t of i)switch(typeof l){case"object":l=l[t];break;case"string":case"undefined":throw new ReferenceError}if(void 0===l)throw new ReferenceError;if("string"!=typeof t&&a){let e=1===a?"one":"other";0===a&&"string"!=typeof t&&"zero"in t&&(e="zero"),l=l[e]}if("string"!=typeof l)throw new ReferenceError;let e=!1;const n=Object.keys(c),r=l.split(new RegExp(`({${n.join("}|{")}})`,"g"));return n.forEach((t=>{e||"string"==typeof c[t]||(e=!0),r.forEach(((e,n)=>{e===`{${t}}`&&(r[n]=c[t])}))})),e?(0,o.Y)(o.FK,{children:r}):r.join("")}catch(u){return s||n}}}})(),h=(0,r.li)(null),[g,w]=(0,r.J0)(null),y=(0,r.li)(null),v=(0,r.li)(null),k=(0,r.li)(null),{instanceId:E}=x(),[_,S]=(0,r.J0)(),{floatingStyles:T,middlewareData:C,refs:I,update:M}=function(e={}){const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,p]=(0,r.J0)({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=(0,r.J0)(o);ze(f,o)||h(o);const[m,g]=(0,r.J0)(null),[w,y]=(0,r.J0)(null),b=(0,r.hb)((e=>{e!==E.current&&(E.current=e,g(e))}),[]),v=(0,r.hb)((e=>{e!==_.current&&(_.current=e,y(e))}),[]),x=a||m,k=s||w,E=(0,r.li)(null),_=(0,r.li)(null),S=(0,r.li)(d),T=null!=l,C=Fe(l),I=Fe(i),M=(0,r.hb)((()=>{if(!E.current||!_.current)return;const e={placement:t,strategy:n,middleware:f};I.current&&(e.platform=I.current),Ae(E.current,_.current,e).then((e=>{const t={...e,isPositioned:!0};A.current&&!ze(S.current,t)&&(S.current=t,p(t))})).catch((e=>{console.error("error caught during computePosition",e)}))}),[f,t,n,I]);(0,r.vJ)((()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[u]);const A=(0,r.li)(!1);(0,r.vJ)((()=>(A.current=!0,()=>{A.current=!1})),[]),(0,r.vJ)((()=>{if(x&&(E.current=x),k&&(_.current=k),x&&k){if(C.current)return C.current(x,k,M);M()}}),[x,k,M,C,T]);const P=(0,r.Kr)((()=>({reference:E,floating:_,setReference:b,setFloating:v})),[b,v]),L=(0,r.Kr)((()=>({reference:x,floating:k})),[x,k]),R=(0,r.Kr)((()=>{const e={position:n,left:0,top:0};if(!L.floating)return e;const t=Ve(L.floating,d.x),o=Ve(L.floating,d.y);return c?{...e,transform:`translate(${t}px, ${o}px)`,...Ne(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:o}}),[n,c,L.floating,d.x,d.y]);return(0,r.Kr)((()=>({...d,update:M,refs:P,elements:L,floatingStyles:R})),[d,M,P,L,R])}({middleware:[Ie({crossAxis:!1,fallbackPlacements:["bottom","top"]}),Ce({padding:30}),Te(30),(A={element:y,padding:28},{name:"arrow",options:A,fn(e){const{element:t,padding:n}=A;return t&&(o=t,{}.hasOwnProperty.call(o,"current"))?null!=t.current?Me({element:t.current,padding:n}).fn(e):{}:t?Me({element:t,padding:n}).fn(e):{};var o}})],placement:"right",whileElementsMounted:Se});var A;(0,r.vJ)((()=>{if(e){let t;t="string"==typeof e?b.querySelector(e):e.current,w(t),I.setReference(t),M()}}),[e,I,M]),v.current||(v.current=new IntersectionObserver((e=>{for(const t of e)t.boundingClientRect.top<0&&m.scrollTo({top:0,left:0}),t.isIntersecting&&u?.()}))),h.current||(h.current=new IntersectionObserver((e=>{for(const t of e)if(t.boundingClientRect.top<0&&m.scrollTo({top:0,left:0}),!t.isIntersecting&&t.target.offsetTop){const e=(g?.offsetHeight||0)+(k.current?.offsetHeight||0)/2+30;m.scrollTo({top:t.target.offsetTop-e})}}))),(0,r.vJ)((()=>()=>{v.current&&v.current.disconnect(),h.current&&h.current.disconnect()}),[]);const{isDesktop:P}=function(){const e=Ye.mobile.every((e=>m.matchMedia(`(${e})`).matches)),t=!e&&Ye.tablet.every((e=>m.matchMedia(`(${e})`).matches));return{isMobile:e,isTablet:t,isDesktop:!e&&!t}}(),L=(0,r.Kr)((()=>g&&!d&&P?"dynamic":"center"),[g,P,d]),R=(0,r.hb)((()=>{l(),_?b.documentElement.style.overflow=_:b.documentElement.style.removeProperty("overflow")}),[_,l]);(0,r.vJ)((()=>{function e({key:e}){"Escape"!==e&&"Esc"!==e||R()}return m.addEventListener("keydown",e),()=>{m.removeEventListener("keydown",e)}}),[R]),(0,r.vJ)((()=>{p?(S(b.documentElement.style.overflow),b.documentElement.style.overflow="hidden",v.current&&k.current&&v.current.observe(k.current),h.current&&g&&h.current.observe(g)):(v.current&&k.current&&v.current.unobserve(k.current),h.current&&g&&h.current.unobserve(g))}),[g,p]);const D=Le()("fixed bottom-0 left-0 right-0 top-0 z-10 bg-overlay duration-200 ease-cubic-modal motion-reduce_duration-0",p?"opacity-100":"opacity-0"),j=Le()("fixed bottom-0 left-0 right-0 top-0 z-max overflow-hidden","center"===L&&"flex items-center justify-center",!p&&"pointer-events-none"),O=Le()("relative z-50 rounded-lg bg-white duration-200 ease-cubic-modal will-change-transform focus_outline-0 motion-reduce_duration-0 sm_absolute sm_bottom-0 sm_left-0 sm_right-0 sm_top-auto sm_rounded-b-none",p?"opacity-1 delay-200 sm_translate-y-0":"opacity-0 sm_translate-y-full","dynamic"===L&&p?"scale-100":"","dynamic"!==L||p?"":"scale-0 sm_scale-100",!a&&"min-w-85"),z=(0,r.Kr)((()=>{if("center"===L)return null;const e=C.flip?.overflows?.some((e=>"bottom"===e.placement));let t,n;void 0===C.flip?.overflows?t=C.arrow?.y:e?n="-10px":t="-10px";const r=Le()("absolute z-30 block size-6 rotate-45 rounded-xs delay-200 duration-200 ease-cubic-modal sm_hidden",e?"bg-grayscale-l4":"bg-white");return(0,o.Y)("div",{className:r,ref:y,style:{bottom:n,left:C.arrow?.x||"-10px",top:t}})}),[C.arrow?.x,C.arrow?.y,C.flip?.overflows,L]),N="dynamic"===L?T:void 0,V=n?null:(0,o.FD)("div",{className:"flex w-full items-center justify-between p-4 pb-2",children:[(0,o.Y)(Re,{className:"h-4-5 text-purple-primary"}),(0,o.FD)("button",{"aria-label":f("button.close",{defaultValue:"Close"}),className:"group relative z-50 flex h-6 w-6 cursor-pointer rounded-max","data-testid":"authorize-modal-close-button",type:"button",onClick:R,children:[(0,o.Y)(Je,{className:"h-6 w-6 text-grayscale-l4 transition-colors group-hover_text-grayscale-l2l"}),(0,o.Y)("div",{className:"absolute inset-05 -z-10 rounded-max bg-grayscale-primary-light"})]})]}),F=p?{}:{"aria-hidden":!0};return(0,i.d5)((0,o.Y)(Et,{instanceId:E,type:"modal",children:(0,o.FD)("div",{className:j,children:[(0,o.Y)("div",{...F,className:D,onClick:R}),(0,o.Y)("button",{"aria-hidden":"true",className:"absolute -m-px h-px w-px overflow-hidden whitespace-nowrap p-0",type:"button"}),(0,o.FD)("section",{"aria-modal":"true",...F,"aria-label":c,className:O,"data-testid":"authorize-modal","data-visible":p,part:"modal",ref:e=>{k.current=e,g&&(I.setFloating(e),M())},role:"dialog",style:N,tabIndex:-1,children:[(0,o.FD)("div",{className:"relative overflow-hidden rounded-lg sm_rounded-b-none",children:[V,t]}),z]}),(0,o.Y)("button",{type:"button","aria-hidden":"true",className:"absolute -m-px h-px w-px overflow-hidden whitespace-nowrap p-0"})]})},s),b.body)},St=["captcha_challenge"],Tt=(0,i.Rf)((({activator:e,anchorTo:t,autoOpen:n,keepModalOpen:i=!1,onComplete:a,onError:s,onLoaded:l,onModalVisibleChange:u,proxy:p,src:f,storefrontOrigin:v},x)=>{const{analyticsData:E,produceMonorailEvent:S,trackPageImpression:T}=d(),{leaveBreadcrumb:C,notify:I}=c(),{recordCounter:M}=h(),{clearLoadTimeout:A,initLoadTimeout:P}=function(){const e=k(),t=(0,r.li)(null),n=(0,r.hb)((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]);return{initLoadTimeout:(0,r.hb)((()=>{n(),t.current=setTimeout((()=>{e("error",{message:"Shop login is temporarily unavailable",code:"temporarily_unavailable"}),n()}),1e4)}),[n,e]),clearLoadTimeout:n}}(),L=(0,r.li)(null),[R,D]=(0,r.J0)(!1),[j,O]=(0,r.J0)(!1),[z,N]=(0,r.J0)(!1),V=function(e){const t=(0,r.li)(e);return(0,r.vJ)((()=>{t.current=e})),t.current}(j),F=k(),Y=(0,r.hb)(((e,t)=>{const{analyticsTraceId:n,checkoutToken:o,flow:r,flowVersion:i="unspecified"}=E;n&&r&&S({event:{schemaId:"shop_identity_modal_state_change/1.2",payload:{analyticsTraceId:n,currentState:e,checkoutToken:o,flow:r,flowVersion:i,zoom:t}}})}),[E,S]),J=(0,r.hb)((()=>{O(!0),Y("shown",`${m.visualViewport?.scale}`)}),[Y]),U=(0,r.hb)((()=>{O(!1),e?.current&&Ct(e)&&e.current.focus(),Y("hidden",`${m.visualViewport?.scale}`)}),[e,Y]),W=(0,r.hb)((e=>function({contentWindow:e,event:t}){e&&[w,y].forEach((n=>{e.postMessage(t,n)}))}({contentWindow:L?.current?.contentWindow,event:e})),[]);(0,r.vJ)((()=>{function t(){J()}const n=e;if(n?.current&&Ct(n))return n.current.addEventListener("click",t),()=>{n.current?.removeEventListener("click",t)}}),[e,J]);const{destroy:q,waitForMessage:B}=function({includeCore:e,source:t,storefrontOrigin:n,...o}){const i=k(),a=(0,r.hb)((e=>{const{onAuthorizeStepChanged:t,onClose:n,onComplete:r,onConfirmSuccess:a,onCustomFlowSideEffect:s,onDiscountSaved:c,onEmailChangeRequested:l,onError:u,onLeadCaptureLoaded:d,onLoaded:p,onPopUpOpened:f,onProcessingStatusUpdated:h,onResizeIframe:m,onRestarted:g,onShopUserMatched:w,onShopUserNotMatched:y,onUserVerified:v,onVerificationStepChanged:x}=o;switch(e.type){case"authorize_step_changed":t?.(e);break;case"close_requested":n?.();break;case"completed":{const{avatar:t,email:n,givenNameFirstInitial:o,loggedIn:a,shouldFinalizeLogin:s}=e;r?.(e),i("completed",e),a&&s&&i("storefront:signincompleted",{avatar:(()=>{const e=b.createElement("shop-user-avatar"),r=o||n?.[0]||"";return e.setAttribute("src",t||""),e.setAttribute("initial",r),e})()},!0);break}case"confirm_success":a?.();break;case"custom_flow_side_effect":s?.();break;case"discount_saved":c?.();break;case"email_change_requested":l?.();break;case"error":u?.(e),i("error",{code:e.code,message:e.message,email:e.email});break;case"loaded":i("loaded",e),"loginTitle"in e?d?.(e):p?.(e);break;case"pop_up_opened":f?.(e),i("popuploading",e);break;case"processing_status_updated":h?.();break;case"resize_iframe":m?.(e);break;case"restarted":g?.(),i("restarted");break;case"shop_user_matched":w?.(e);break;case"shop_user_not_matched":y?.(e);break;case"user_verified":v?.(e);break;case"verification_step_changed":x?.(e)}}),[i,o]);return function({allowedOrigins:e,destination:t=m,handler:n,source:o}){const i=(0,r.Kr)((()=>new Set),[]);(0,r.vJ)((()=>(i.add(n),()=>{i.delete(n)})),[n,i]);const a=(0,r.hb)((e=>{i.forEach((t=>t(e)))}),[i]),s=(0,r.hb)((t=>{(function(e,t){return e.source===t})(t,o?.current?.contentWindow||null)&&(e.some((e=>function(e,t){try{const n=new URL(e).host.split(".").reverse(),o=new URL(t).host.split(".").reverse();for(let e=0;e<Math.min(n.length,o.length);e++)if(n[e]!==o[e])return!1;return!0}catch(n){return!1}}(e,t.origin)))?a(t.data):console.error("Origin mismatch for message event",t))}),[e,a,o]),c=(0,r.hb)((()=>{t.removeEventListener("message",s,!1)}),[t,s]);(0,r.vJ)((()=>(t.addEventListener("message",s,!1),()=>{c()})),[t,c,s]);const l=(0,r.hb)((async(e,t)=>{let n;return new Promise(((o,r)=>{function a(){r(new _("Abort signal received","AbortSignalReceivedError"))}t?.aborted&&a(),n=n=>{n.type===e&&(t?.removeEventListener("abort",a),o(n))},i.add(n),t?.addEventListener("abort",a)})).finally((()=>{i.delete(n)}))}),[i]);return{destroy:c,waitForMessage:l}}({allowedOrigins:(0,r.Kr)((()=>[w,y,...e?[g]:[],...n?[n]:[]]),[e,n]),handler:a,source:t})}({includeCore:p,onClose:U,onComplete:e=>{i||U(),a?.(e)},onError:e=>{const{message:t,code:n}=e;St.includes(n)?(M("shop_js_handle_silent_error",{attributes:{errorCode:n}}),C("silent error",{code:n},"state")):I(new Error(`Authorize Error: ${t} (${n}).`)),A(),s?.(e)},onLoaded:e=>{Y("loaded",`${m.visualViewport?.scale}`),C("iframe loaded",{},"state"),N(e.userFound),D(!0),l?.(e),A(),e.userFound&&void 0!==n&&!1!==n&&O(!0)},onResizeIframe:({height:e})=>{L.current&&(L.current.style.height=`${e}px`)},onShopUserMatched:({userCookieExists:e})=>{F("shopusermatched"),N(e),C("shop user matched",{},"state")},onShopUserNotMatched:({apiError:e})=>{F("shopusernotmatched",e&&{apiError:e}),N(!1),C("shop user not matched",{},"state")},source:L,storefrontOrigin:v});return(0,r.vJ)((()=>()=>{L.current&&q()}),[q]),(0,r.vJ)((()=>{if(j!==V)if(j){try{W({type:"sheetmodalopened"}),F("modalopened")}catch(e){I(new Error(`Error before calling onModalVisibleChange(true): ${e}`))}u?.(!0)}else W({type:"sheetmodalclosed"}),F("modalclosed"),u?.(!1),b.querySelector("com-1password-notification")?.remove()}),[F,j,u,W,V,I]),(0,r.Yn)(x,(()=>({close:U,loaded:R,open:J,postMessage:W,sessionDetected:z,source:L.current?.contentWindow||null,visible:j,waitForMessage:B})),[U,J,R,j,W,z,B]),(0,r.vJ)((()=>{P(),C("Iframe url updated",{src:f},"state")}),[P,C,f]),(0,r.vJ)((()=>{j&&T({page:"AUTHORIZE_MODAL"})}),[j,T]),(0,r.vJ)((()=>{const e=L.current?.parentNode;e&&L.current&&(e.removeChild(L.current),L.current.setAttribute("src",f),e.appendChild(L.current))}),[f]),(0,o.Y)(_t,{anchorTo:t,onDismiss:U,onModalInViewport:()=>{T({page:"AUTHORIZE_MODAL_IN_VIEWPORT",allowDuplicates:!0}),C("modal in viewport",{},"state")},visible:j,children:(0,o.Y)("iframe",{allow:"publickey-credentials-get *",className:"relative z-40 m-auto w-full border-none",ref:e=>{e&&(L.current=e,e.getAttribute("src")||e.setAttribute("src",f))},tabIndex:0,"data-testid":"authorize-iframe"})})}));function Ct(e){return Object.prototype.hasOwnProperty.call(e,"current")}Tt.displayName="AuthorizeIframe";const It=e=>{if(void 0!==e)return!1===e?"false":"true"};function Mt({analyticsContext:e,analyticsTraceId:t,apiKey:n,avoidSdkSession:o,checkoutRedirectUrl:r,checkoutToken:i,checkoutVersion:a,clientId:s,codeChallenge:c,codeChallengeMethod:l,consentChallenge:u,disableSignUp:d,emailVerificationRequired:p,flow:f,flowVersion:h,hideCopy:g,isCompactLayout:w=!0,isFullView:y,locale:b,modalCustomized:v,popUpFeatures:x,popUpName:k,redirectType:E,redirectUri:_,requireVerification:S,responseMode:T,responseType:C,scope:I,state:M,transactionParams:A,uxMode:P}){const L=void 0===d?void 0:!1===d,R={analytics_context:e,analytics_trace_id:t,avoid_sdk_session:It(o),api_key:n,checkout_redirect_url:r,checkout_token:i,checkout_version:a,client_id:s,code_challenge:c,code_challenge_method:l,compact_layout:It(w),consent_challenge:It(u),"customize-modal":It(v),email_verification_required:It(p),flow:f?f.toString():void 0,flow_version:h,full_view:It(y),hide_copy:It(g),locale:b,pop_up_features:"pop_up"===E?x:void 0,pop_up_name:"pop_up"===E?k:void 0,redirect_type:E,redirect_uri:_||m.location.origin,require_verification:It(S),response_mode:T||"web_message",response_type:C||"id_token",scope:I||"openid email profile",sign_up_enabled:It(L),state:M,target_origin:m.location.origin,transaction_params:A,ux_mode:P};return Object.keys(R).forEach((e=>void 0===R[e]&&delete R[e])),new URLSearchParams(R)}const At={boolean:{stringify:e=>""===e?"true":e?/^[ty1-9]/i.test(e).toString():"false",parse:(e,t,n)=>""===e||(e?/^[ty1-9]/i.test(e):n.hasAttribute(t)&&null===e)},function:{stringify:e=>"function"==typeof e?e.name.replace("bound ",""):"string"==typeof e?e.replace("bound ",""):e,parse:(e,t,o)=>{if(!e)return null;const r="undefined"!=typeof window?window[e]:void 0!==n.g?n.g[e]:void 0;return"function"==typeof r?r.bind(o):void 0}},number:{stringify:e=>`${e}`,parse:e=>{if(e)return parseFloat(e)}},string:{stringify:e=>e,parse:e=>{if(e)return e}}};function Pt(e,{methods:t,name:n,props:o,shadow:r}){if("undefined"==typeof window)return;function i(){const t=Reflect.construct(HTMLElement,[],i);if(t._vdomComponent=e,t._root=r?t.attachShadow({mode:r}):t,r){const e=new CSSStyleSheet;e.replace(kt),t._root.adoptedStyleSheets=[e]}return t}const s=new Map;Object.entries(o||{}).forEach((([e,t])=>{const n=e.replace(/([a-z0-9])([A-Z])/g,((e,t,n)=>`${t}-${n.toLowerCase()}`)).replace(/[\s_]+/g,"-");s.set(n,{attribute:n,preactProp:e,type:t})}));const c=Array.from(s.values()).map((({attribute:e})=>e));function l(e){this.getChildContext=()=>e.context;const{context:t,children:n,...o}=e;return(0,a.Ob)(n,o)}function u(e){return(0,a.h)("slot",{...e})}function d(e,t){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;const n={},o=[],{childNodes:r}=e;s.forEach((({attribute:t,preactProp:o,type:r})=>{const i=At[r],a=e.getAttribute(t);let s=a;("boolean"===r||a)&&(s=i.parse(a,t,e)),null!==s&&(n[t]=s,n[o]=s)}));for(const a of r){const e=d(a,null);o.push(e)}const i=t?(0,a.h)(u,null,o):o;return(0,a.h)(t,n,i)}return i.prototype=Object.create(HTMLElement.prototype),i.prototype.constructor=i,i.observedAttributes=c,i.prototype.attributeChangedCallback=function(e,t,n){if(!this._vdom)return;const o=s.get(e);if(!o)return;const{preactProp:r,type:i}=o,c=At[i],l={};if(n||"boolean"!==i){if(i&&n){const t=c.parse(n,e,this);l[e]=t,l[r]=t}}else{const t=c.parse(n,e,this);l[e]=t,l[r]=t}this._vdom=(0,a.Ob)(this._vdom,l),(0,a.XX)(this._vdom,this._root)},i.prototype.connectedCallback=function(){const e=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(e);const t=e.detail.context;this._vdom=(0,a.h)(l,{...this._props,context:t,element:this},d(this,this._vdomComponent)),(0,a.XX)(this._vdom,this._root)},t?.forEach((e=>{i.prototype[e]=function(t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}})),i.prototype.disconnectedCallback=function(){(0,a.XX)(this._vdom=null,this._root)},s.forEach((({attribute:e,type:t})=>{const n=At[t];Object.defineProperty(i.prototype,e,{get(){return this._vdom.props[e]},set(o){let r=o;this._vdom?this.attributeChangedCallback(e,null,o):(("boolean"===t||o)&&(r=n.parse(o,e,this)),this._props||(this._props={}),this._props[e]=r,this.connectedCallback()),this.setAttribute(e,n.stringify(r))}})})),customElements.define(n,i)}function Lt(e){const{analyticsTraceId:t,checkoutToken:n,checkoutVersion:o,shopPermanentDomain:r}=e;return{analyticsTraceId:t,checkoutVersion:o,checkoutToken:n,flow:"checkout_modal",shopPermanentDomain:r}}const Rt=({anchorTo:e,email:t,queueToken:n,...i})=>{const a=(0,r.li)(null);!function({autoOpen:e,debounce:t,email:n,emailInputSelector:o,hideChange:i,iframeRef:a}){const{leaveBreadcrumb:s,notify:l}=c(),{trackUserAction:u}=d(),{isFilledWithPasswordManager:p}=function({emailInputSelector:e}){const[t,n]=(0,r.J0)(),[o,i]=(0,r.J0)();return(0,r.vJ)((()=>{function t(e){"password"===this.type?i(e.timeStamp):n(e.timeStamp)}if(e){const n=b.querySelector(e);if(n){n.addEventListener("input",t);const e=n.form?.querySelector('input[type="password"]');return e&&e instanceof HTMLInputElement&&e.addEventListener("input",t),()=>{n.removeEventListener("input",t),e&&e.removeEventListener("input",t)}}}}),[e]),{isFilledWithPasswordManager:(0,r.Kr)((()=>void 0!==t&&void 0!==o&&Math.abs(t-o)<100),[t,o])}}({emailInputSelector:o}),f=(0,r.li)(null),[h,m]=(0,r.J0)(null),g=(0,r.Kr)((()=>new Set),[]),w=(0,r.hb)((async({email:t,firstName:n="",lastName:o=""},r=!0)=>{if(!a.current||a.current.visible&&r)return;const c=S(t)?t:"";f.current&&!f.current?.signal.aborted&&f.current.abort(),f.current=new AbortController;try{const{loaded:t,open:r,postMessage:l,sessionDetected:u,waitForMessage:d}=a.current;if(t||await d("loaded",f.current.signal),!t&&u&&e)return;l({firstName:n,lastName:o,type:"namesubmitted"}),l({email:c,hideChange:void 0===i?c.length>0:i,type:"emailsubmitted"}),s("email submitted",{email:c?"redacted":""},"state");const p=d("shop_user_matched",f.current.signal),m=new Promise(((e,t)=>{const n=async()=>{try{const t=await d("error",f.current.signal);"error"===t.type&&"captcha_challenge"===t.code?e(void 0):n()}catch(o){t(o)}};n()}));await Promise.race([p,m]),r(),h?.blur(),f.current.abort()}catch(u){if(u instanceof _&&"AbortSignalReceivedError"===u.name)return;u instanceof Error&&l(new Error(`Error updating user info: ${u.name} - ${u.message}`))}}),[e,h,i,a,s,l]),y=(0,r.hb)(((e="",t)=>{const n=S(e);p&&!g.has("PASSWORD_MANAGER_AUTOFILL_DETECTED")&&(g.add("PASSWORD_MANAGER_AUTOFILL_DETECTED"),u({userAction:"PASSWORD_MANAGER_AUTOFILL_DETECTED"})),n&&!g.has("EMAIL_ENTERED")&&(g.add("EMAIL_ENTERED"),u({userAction:"EMAIL_ENTERED"}),s("email entered",{},"state")),w({email:e},t)}),[p,s,u,g,w]);(0,r.vJ)((()=>{if(o){const e=b.querySelector(o);m(e)}}),[o]);const v=Qe((e=>{y(e)}),200);(0,r.vJ)((()=>{if(!h)return;const e=()=>{h&&v(h.value)};return h.value&&y(h.value),h.addEventListener("input",e),()=>{h?.removeEventListener("input",e)}}),[v,y,h]),(0,r.vJ)((()=>{void 0!==n&&(t?v(n):y(n,!1))}),[n,v,t,y])}({email:t,iframeRef:a,debounce:!0});const{postMessageAfterLoad:s}=function({iframeRef:e}){return{postMessageAfterLoad:async function(t){if(!e.current)return;const{loaded:n,postMessage:o,waitForMessage:r}=e.current;n||await r("loaded"),o(t)}}}({iframeRef:a}),{trackUserAction:l}=d(),{leaveBreadcrumb:u}=c();!function(e){const{element:t}=x();(0,r.vJ)((()=>{if(t)return Object.entries(e).forEach((([e,n])=>{t.addEventListener(e,n)})),()=>{Object.entries(e).forEach((([e,n])=>{t?.removeEventListener(e,n)}))}}),[t,e])}((0,r.Kr)((()=>({open:async()=>{a.current?.visible||(a.current?.open(),l({userAction:"OPEN_CALLED"}),u("open called",{},"state"))}})),[l,u]));const{trackShopPayModalStateChange:p}=function(){const{analyticsData:e,produceMonorailEvent:t}=d();return{trackShopPayModalStateChange:(0,r.hb)((({currentState:n},o)=>{const{analyticsTraceId:r,checkoutToken:i,checkoutVersion:a,shopPermanentDomain:s}=e,c={previousState:"",currentState:n,clientTimestampMs:(new Date).getTime(),analyticsTraceId:r,checkoutToken:i||"",checkoutVersion:a||"",shopifyDomain:s||"",zoom:o};t({event:{payload:c,schemaId:"shopify_pay_modal_state_change/1.3"}})}),[e,t])}}(),f=(0,r.hb)((()=>{p({currentState:"loaded"},`${m.visualViewport?.scale}`)}),[p]),h=(0,r.hb)((e=>{p({currentState:e?"shown":"hidden"},`${m.visualViewport?.scale}`)}),[p]);(0,r.vJ)((()=>{n&&s({type:"checkoutqueuetokensubmitted",checkoutQueueToken:n})}),[s,n]);const y=function({analyticsContext:e="loginWithShop",avoidPayAltDomain:t=!1,avoidSdkSession:n=!1,disableSignUp:o=!1,emailVerificationRequired:i=!1,flow:a="default",flowVersion:s="unspecified",...c}){const{locale:l}=Oe(),{analyticsData:u}=d(),p=(0,r.hb)((e=>{if(!e.proxy){if(void 0===e?.clientId)return"";const t=Mt(e),n=e.avoidPayAltDomain?"/pay/sdk-authorize":"/pay/sdk-session";return`${w}${n}?${t}`}const t=Mt(e);return`${g}/services/login_with_shop/authorize?${t}`}),[]);return(0,r.Kr)((()=>p({analyticsContext:e,analyticsTraceId:u.analyticsTraceId,avoidPayAltDomain:t,avoidSdkSession:n,disableSignUp:o,emailVerificationRequired:i,flow:a,flowVersion:s,locale:l,...c})),[e,u.analyticsTraceId,t,n,p,o,i,a,s,l,c])}({analyticsContext:"loginWithShopCheckoutModal",avoidSdkSession:!0,clientId:"",disableSignUp:!0,proxy:!0,redirectType:"iframe",responseType:"code",...i});return(0,o.Y)(Tt,{anchorTo:e,keepModalOpen:!0,onLoaded:f,onModalVisibleChange:h,proxy:!0,ref:a,src:y})},Dt=()=>Pt((({element:e,...t})=>(0,o.Y)(xt,{element:e,monorailProps:Lt(t),featureName:"ShopCheckoutModal",children:(0,o.Y)(Rt,{...t})})),{methods:["open"],name:"shop-checkout-modal",props:{anchorTo:"string",checkoutRedirectUrl:"string",checkoutToken:"string",checkoutVersion:"string",email:"string",queueToken:"string",shopPermanentDomain:"string",transactionParams:"string"},shadow:"open"})}}]);